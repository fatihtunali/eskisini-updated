<header class="hdr">
  <div class="container topbar">
    <!-- Marka -->
    <a class="logo brand" href="/">
      <img class="brand-mark" src="/assets/logo.png" alt="">
      <span class="brand-text">Eskisini Ver Yenisini Al</span>
    </a>

    <!-- Arama -->
    <form class="search" role="search" id="searchForm">
      <input id="q" name="q" type="search" placeholder="Ürün, kategori, marka…" autocomplete="off">
      <button id="btnSearch" type="submit">Ara</button>
    </form>

    <!-- Kullanıcı Navigasyonu (session.js tarafından doldurulacak) -->
    <nav class="usernav" aria-label="Hesap ve işlemler">
      <!-- session.js bu alan içeriğini tamamen değiştirecek -->
      <div class="loading">Yükleniyor...</div>
    </nav>
  </div>
</header>

<!-- Header için gerekli script'ler -->
<script>
  // Arama formu işlevi (header.js'deki ile uyumlu)
  (function() {
    const form = document.getElementById('searchForm');
    if (form) {
      form.addEventListener('submit', (e) => {
        e.preventDefault();
        const q = document.getElementById('q')?.value?.trim();
        if (q) {
          const url = new URL('/search.html', location.origin);
          url.searchParams.set('q', q);
          location.href = url.toString();
        } else {
          location.href = '/';
        }
      });
    }
  })();
</script>