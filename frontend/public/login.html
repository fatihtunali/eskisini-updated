<!doctype html>
<html lang="tr">
<head>
  <!-- Google Fonts: Inter (TR uyumlu, latin-ext) -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap&subset=latin-ext" rel="stylesheet">

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Giri≈ü | Eskisini Ver Yenisini Al</title>
  <link rel="stylesheet" href="css/styles.css">
  <style>
    .auth{max-width:720px;margin:32px auto}
    .auth-title{margin:0 0 6px}
    .auth-sub{margin:0 0 18px;color:#6b7280}
    .form-card{background:#fff;border:1px solid #e5e7eb;border-radius:14px;padding:16px;display:grid;grid-template-columns:1fr 1fr;gap:12px}
    .form-field{display:flex;flex-direction:column;gap:6px}
    .form-span-2{grid-column:1/-1}
    .form-msg{grid-column:1/-1;background:#fee2e2;border:1px solid #fecaca;color:#b91c1c;padding:8px;border-radius:10px}
    .pw-wrap{display:flex;gap:8px}
    .pw-wrap input{flex:1}
    .pw-toggle{border:1px solid #e5e7eb;background:#fff;border-radius:10px;padding:0 10px}
    .req{color:#ef4444}
    .form-actions{grid-column:1/-1;display:flex;gap:10px;align-items:center;justify-content:flex-start}
    .btn.primary{background:#111827;color:#fff;border:1px solid #111827}
    .link-soft{color:#6b7280;text-decoration:none}
    .link-soft:hover{text-decoration:underline}
  </style>
</head>
<body>
  <!-- HEADER -->
  <div data-include="partials/header.html"></div>

  <!-- ORTALANMI≈û KART -->
  <section class="auth container">
    <h1 class="auth-title">Giri≈ü yap</h1>
    <p class="auth-sub">Hesabƒ±nƒ±za eri≈ümek i√ßin e-posta adresinizi ve ≈üifrenizi girin.</p>

    <form id="loginForm" class="form-card auth-form" novalidate>
      <div id="loginMsg" class="form-msg" hidden></div>

      <div class="form-field form-span-2">
        <label for="loginEmail">E-posta <span class="req">*</span></label>
        <input id="loginEmail" name="email" type="email" autocomplete="email"
               placeholder="ornek@alan.com" required />
      </div>

      <div class="form-field form-span-2">
        <label for="loginPass">≈ûifre <span class="req">*</span></label>
        <div class="pw-wrap">
          <input id="loginPass" name="password" type="password" autocomplete="current-password"
                 placeholder="En az 6 karakter" minlength="6" required />
          <!-- auth.js -> bindToggle('#toggleLoginPass', '#loginPass') -->
          <button type="button" id="toggleLoginPass" class="pw-toggle" aria-label="≈ûifreyi g√∂ster">üëÅ</button>
        </div>
      </div>

      <div class="form-actions">
        <button type="submit" class="btn primary">Giri≈ü yap</button>
        <a class="link-soft" href="/register.html">Hesabƒ±n yok mu? Kayƒ±t ol</a>
      </div>
    </form>
  </section>

  <!-- FOOTER -->
  <div data-include="partials/footer.html"></div>

  <!-- JS -->
  <script src="js/partials.js"></script>
  <script src="js/config.js"></script>

  <!-- ‚Äònext‚Äô ‚Üí ‚Äòredirect‚Äô param normalizasyonu (auth.js ba≈üarƒ± y√∂nlendirmesi i√ßin) -->
  <script>
    (function normalizeLoginRedirect(){
      var u = new URL(location.href);
      if (!u.searchParams.get('redirect') && u.searchParams.get('next')) {
        u.searchParams.set('redirect', u.searchParams.get('next'));
        u.searchParams.delete('next');
        history.replaceState(null, '', u.toString());
      }
    })();
  </script>

  <script src="js/auth.js"></script>
  <script src="js/header.js"></script>
  <script src="js/session.js"></script>
  <script src="js/buy.js"></script>

  <script>includePartials();</script>
</body>
</html>
